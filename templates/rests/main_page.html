{% extends 'base.html' %}

{% load static %}
{% block content %}
<div class="hk mb-5">
    <form method="post" action="{% url 'main_page' %}">
        {% csrf_token %}

        <label for="start_date">Дата заїзду</label>
        <input type="date" name="start_date" value="{{ start_date }}" min="{% now 'Y-m-d' %}" required>

        <label for="end_date">Дата виїзду</label>
        <input type="date" name="end_date" value="{{ end_date }}" min="{% now 'Y-m-d' %}" required>

        <label for="min_price">Ціна від: </label>
        <input type="number" name="min_price" value="{{ min_price }}" placeholder="від" min="1">
        
        <label for="max_price">Ціна до: </label>
        <input type="number" name="max_price" value="{{ max_price }}" placeholder="до" min="1">

            <label>Тип</label>
            <select name="tep">
                <option value="active">Активний</option>
                <option value="passive">Пасивний</option>
                <option value="mixed">Змішаний</option>
            </select>

        <button type="submit" class="button-tt">Фільтрувати</button>
    </form>
</div>


<h1 class="text-center mb-5">Знайдіть Відпочинок</h1>
{% for rest in rests %} 
<div class="cream-bg">
    <div class="rr">
        <div class="row g-5">
            <div class="col-lg-10">
                <div class="card big-card shadow-sm rounded-4 ">
                    <div class="row g-0">
                        <div class="col-6 col-md-5"> 
                            <img src="{{ rest.photo.url }}" class="card-imgg img-fluid rounded-start" alt=""> 
                        </div> 
                        <div class="col-6 col-md-5">
                            <div class="card-body d-flex flex-column">
                                <div>
                                    <h3>{{ rest.name }} </h3> 
                                    <p class="card-text">Категорія: {{ rest.category }}</p> 
                                    <p class="card-text">Тип: {{ rest.tep }}</p> 
                                    <p class="card-text">Ціна: {{ rest.price }} грн</p> 
                                    <a href="{% url 'booking' %}?rest_id={{ rest.id }}&start_date={{ start_date }}&end_date={{ end_date }}"
                                        class="btn btn-success ">
                                        Забронювати
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

{% endfor %} 
{% endblock %}